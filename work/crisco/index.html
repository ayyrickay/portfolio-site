---
layout: page
css: [main, magnifier]
js: [event, magnifier]
title: "Crisco URL Shortener"
deliverable: '<a href="http://people.ischool.berkeley.edu/~ricky.holtz/server/crisco" target="_blank">url shortener website</a>'
role: "full stack developer"
methods: "html, css, javascript, flask, sqlite, bootstrap"
artifacts: '<a href="/assets/documentation/Crisco_TechnicalReport.pdf" target="_blank">technical report</a>'
problem-img: "<div class='crisco-header' title='a laptop screen with a bright blue background and red text'></div>"
problem: "<p>A url shortener is pretty straightforward when you&#8217;re using it &mdash; but building it actually involves a solid understanding of the full web stack and its protocols. For this project, my friend and I wanted to explore servers, databases, and front-end web development... And we wanted to have a bit of fun with it.</p>"
process-img1: "/assets/img/crisco/crisco-2.png"
process-txt1: "A submission confirmation page; ironically, due to hosting our app on a school server, most urls actually got longer with crisco!"
process-img2: "/assets/img/crisco/crisco-4.png"
process-txt2: "our 404 page, complete with maya rudolph as michelle obama"
process-img3: "/assets/img/crisco/crisco-3.png"
process-txt3: "A fail page for when urls are already taken. Also includes a direct link back, because we're firm believers in RESTful systems."
reflection: "<p>If my projects have taught me anything, it&#8217;s the fact that the simplest problems can actually end up being really complicated. A URL shortener, for example, is conceptually straightforward. If you want to build a really awesome URL shortener, however, you&#8217;ve got a little bit of hard work ahead of you, and a lot of that work is going to just involve a little bit of strategic (and dare I say philosophical?) thinking. Crisco was a great lesson in planning; we prioritized features and took smart stances on the behavior of our system before we ever started coding, and so the coding part was almost painless. Rather than dividing our attention between the system behavior and the behavior of the tools we were using to build the system, we could fully devote our attention to understanding exactly why Flask was giving us problems &mdash; and, of course, we could solve those problems because we knew exactly what we wanted to accomplish.</p>
<p>Looking back at Crisco, I also realize that it was my first real introduction to web development, and although I shudder a bit when I look at the github repo, I have to admit that it was a solid project. It&#8217;s a great indicator of my own personal progress. Since building the URL shortener, I&#8217;ve picked up Node, MongoDB, and React. I&#8217;m loathe to write CSS without a preprocessor, and Flexbox rules my layouts. I&#8217;m building with Gulp and Grunt, and serving static sites on Jekyll. I can do a lot more with the web now, but Crisco reminds me that a solid stack and good software design is what really counts when you want to build an awesome application.</p>"
---
<h3>planning</h3>
<p>My classmate and I started out by planning what this system would do. We knew our architecture, but we took some time to plan out exactly what data we would be passing around, and making calls on edge cases (e.g., duplicate urls, form defaults, etc) so that, when we started building, we could just dive right into implementation. Once the planning was done, the system was pretty straightforward; we built an HTTP server using Python&#8217;s Flask library. The server accepted GET requests for web pages, of course, and POST requests for adding short url codes in a simple binary database. With this work flow established, it was easy to instruct the server to redirect; codes from the end of the URI were run against the database, and the server would then redirect people using the standard HTTP 300 code (keeping our service RESTful, of course).</p>
<h3>refinements</h3>
<p>Once we had the MVP, we added a couple of neat features, like a random URL generator. Rather than requiring users to input a code, they could leave the field empty and get a shortened URL. We also took some strong stances on duplicate tags. If the URL was already tied to a randomized tag, we would serve the same tag rather than generating a new one and cluttering the database. We also upgraded our database to SQLite, shielding it against SQL injections &mdash; and, just for our own sanity, we made a command line readable table of the database contents for easy debugging in early stages. Finally, we made the whole site responsive on mobile devices. We also tried to keep the project lighthearted, and went with a southern theme (&ldquo;that dog don&#8217;t hunt&rdquo;, the copy on our error page, is a mannerism that means something doesn&#8217;t work). We also made a 404 page that we found pretty delightful. (:</p>
